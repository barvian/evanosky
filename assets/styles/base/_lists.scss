// Lists
// =====

%list {
  margin-left: 0;
  padding-left: 2.5em;
}

%unstyled-list {
  list-style-type: none;
  padding-left: 0;
}

ol, ul { @extend %list; }

.vlist {
  @extend %unstyled-list;

  > li {
    display: block;
  }
}

.hlist {
  @extend .clearfix;
  @extend %unstyled-list;

  @include horizontal;

  > li {
    float: left;
  }
}

.ilist {
  @extend %unstyled-list;

  @include horizontal;

  > li {
    display: inline-block;
    vertical-align: top;
  }
}

// Block grids
// -----------

@mixin block-grids($max, $prefix: '', $postfix: '') {
  %#{$prefix}block-grid#{$postfix} {
    @extend %unstyled-list;
    margin-left: -1*size(spacing);

    @include horizontal(0);

    > * {
      display: inline-block;
      margin-top: size(spacing);
      padding-left: size(spacing);
      vertical-align: top;
    }
  }

  @for $num from 1 through $max {
    .#{$prefix}block-grid-#{$num}#{$postfix} {
      @extend %#{$prefix}block-grid#{$postfix};

      > * {
        width: percentage(1/$num);

        @for $f from 1 through $num {
          &:nth-child(#{$f}) {
            margin-top: 0;
          }
        }
      }
    }
  }
}

@include block-grids($columns);

@each $name, $query in $breakpoints {
  @include query($name) {
    @include block-grids($columns, $prefix: $name + '-');
  }
}
